# Automatically generated on 2020-06-29 UTC from https://codemagic.io/app/5ef56220f4d583000b573b1a/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  flutter-workflow:
    name: Flutter Workflow
    max_build_duration: 30
    environment:
      vars:
        FIREBASE_TOKEN: Encrypted(Z0FBQUFBQmUtWk93eUdoLVZCdVpWV2ZMRlQwQWFmdmRFWk5rWEh2cTBRaGFBNTQwSEtvcVMxR1pBdkFFRHZJbnctbGR1a2FMd0I3UlJJTXJJRTg0SFhlZGgxeFR0YVpzSEtEekVoSEVUN2MzbVRobUszM3IzN1BFV3kwRW5wSVVSeURlR21kYXU3UlNZR1g4SEsxV3dXNUJ3dEdJcWs4Mmt0cmRlU2FKSlFVM3pZd1VEb3ZVMllYa282NjVtY0UxS3B0MFVPOGFmWk9GOC1NV0VJb2UzbFA5WmtLYkNOMER6QT09)
        GOOGLE_SERVICES: Encrypted(Z0FBQUFBQmUtWk93aUd1dUYtTzNpbFk0RUthWHdHbnhNOTBNSXhXQUkxRWVYTzlHVVVJMllQa0I5Y0hSY1ozUmJab2pVcVBNUUhnZ2dUWHhQMEtvU05qU2p6ZFNxVC1vMGhWamRvOWFibHd1YUx5NTZSTGNlX3dJc2MzdHpYdkl2SmFVNDJlQTZ1UWJGa1ZnbU9PcWR6V0RlbWhZc2RseF8yZnZqamFaM2stMy0xNm9naVBMNWxybXVnMWZ4Vk5wMzRkX01adGpKUTZqbnFlRWNTeW91Z1ZRTnl4amJSelpROXgxejJqbU45b1E5RUU0aElZS3RpZEJEZlhVYTNHQmxid01GNkN5TXR6TGpKYjVoQ2RoTTY4MkJnNFJudGowalNfcjNDcG9aRlpabEJxR2g4RGxXSU5qUGY3M29CVTFuV21pdGJuUTNsT3d4TG9mQmtFYUpfYjlGd3NfaGVSdHpWOWN5MjV0RXhHYmc0R1Njb2RFbW5YQ043WExqa09janFCZzlEbE8wSUlUTHVEVWZCaENQcEY4ZGtiRmo1clVqMHk0RnpXWGYzVlpJcG5MS0kxRnpMdU1xUFc5UUI0cGhHYXNxNDF3amN2LVBjNENqTndPUUpuUVZmYXVhTFFUeWtHSlFyeXZLekI0WTdrT2xlLTVVSjJVSFdjYktNM05tdXg2blExVFV5VG90V3VnazZlQkNqUUI2ZktMWFkwekpiRFJNUThoV0V3WnpwN3g3dW5NZ1VzYnJVRUcwOGtuZ1ktYmg4b2JEQXJudWphV2ZOa24yUmJJNTM1U1RsaWdza1FDa2NWQldfWEwyUFJLZk1yZ2lKUGw2d3dnVTlzc3dTV3hKaE9tdGZET1hTWUNCOUpodXdBVElKTkczVFBZMFF1NUs2Tms4bDF3Si1kM3VmRG5OSTFsVFNxUXAxLUx4Z0ZDRzNueW9DVTVBQWRfdjI4c1BkbVJDM0pTLU1kSEZEZEhpMFBEN0U5SUFDZWxPZmZsVTAwZ1VHeUo5THdqbFNXQ1VzaVkyODBtb05xcjdkYU9SQVBBaHJpVGRQMkFQajNaMTF6bzl0dmFacV9kdlpXaHdUNjh3ZlRrMjFDTGtLMm1Ta1BjTHZOVnlxcG9XRV96QUN0SGt1aVJ0RHhHQ053VS1OVzNCdGdDNmV1QmNaMWVJX0VMNGQxTVBUZEh3SGNRR0NOT196dnBTam5xM1FCOGNwbkM4YWZqMVRpcFRsOWlMY01OSDdfQmN5RUlxRlZHeEo1TDR5MnZTUWVHRm5aRmY4bmkxMXoxV0huazlYd3NDM3VMMThXb1NsOGpwUDIyQV96Uzh1NC15M0ZvSE1Xd0pqekt5ZFFsRzBDYzVvbUxqRU9yRnR2eEVZSmVDR3VfTjJZTFlHalhzai1NQWJ2eGVIYUU3ZDI3NVMwaEFxYTZ5Y0dFU1JWRGdKMi0zVG41LURWN3diZEM5SjdWVU9ob1dtWXRLOGdBUG9obnZiTEtOQUctMWZ1RnJxU0NqZmFwMWN6R1RodkJxWEE2UXBUMEJnRzNZTU5mSmI3aHE2bnJfMTIxc0VCSTZPWURDYXlRakZieEZIVUh1amc4Y3ZCTkhnU2lBSktScUptVXZzZFVGaGN1cm1TLVhmVEdFb0FiYlk0eGZ5aE5yVm5laTJLY3hMT2lOVlBHYVFadjdYTUQwMGJfWGJYeWRfMHlkTVl6WGpmbnhKQ21hYTJTcFZqTVowcjJ6QXVxeWpGWlBoYW5jdUM1QnFNZ1VYWDZnNkhYMmdHc3J6dE80RmZTOHliT1BzZkpiQmtJUHQ1Sm00b2JSa3ZUT0tNeEd3Qm1VN3hZanF2MWkydkNUMlRMNGR5RTAtcjdEam82LWZfQl81TmFkVF82bVp4TEMtYzl5MjBDZmZ4SERJdHJsNGt0LUJUWHRKby1nRTVGaWFmTHlOSUxEVEx4dkhHMGVVV2huVUJqYUd0Q2l0MmtXellKN0JKaTB3NG1SOXo0RFhZNDV2bEt5X3V4NmJuSWdsSnVNazRtYlZSSndsRW51cjJnZnZUWHNTVUN3SnlQV3Y0WmptMl9TYk5LR0tYOUVvaENCN2RkTnlsbjctTG0yeWIxR01SSHJJbzdta0gtWnJER3l4MEdHLXJ6eFo1cXdwWFdEZjRLdUNadFk3YmV6aXlFSXpnQU1PTTlFNjhZVk9aUTVKTjY0TElmNUhpRkRfZ1AwN2RSWTZHWVNGQ0FNcWVaYVRxY2FmaUl6ZXFoZlZJSUxianY2bnJQRzNrek5nVFZycWZyZHBaQU5faXA5RlV0RkNKYjhwWDlicW80UnJTam52MFRPLTVIRldnS3VqNzBzRU53ZEVTc0tCTWtZaXpKRW9TM2REbHJDTXFnWkExSkRvMFo4VzBwRUlpc2JCcVRtaUF2TlBDdUpGN2ZNeGdzbURIOWM2MjRlYnZNdFViN3J5QmY0bFFoemZxamZHc3RzZ3FLRlktZHh5U3BGSFdreXBIR19EeUhkSl9JNkE1X0R2Vll2WWpKTkZOLVlKMHdNSlpMNHIyWUQtcjA3cThDX2FhVnFYcVNCVFNaM3hUM2J1MXJzM19hbTY4NnNkRjVra3NoMUp1T08wSmVNblQxbTBWYzhWTE1DQWpjZ20yeVZPOU9KMC16UXVDU2RiVHI2UlpETmx1MUtPWk92eUMtRXV1VGRHdVRpX2kxZV9RX2dCZ1ZTaEtOajhCb2JaOUhyTWI5bk1FbmR3Q0U1TUNjUXJyQU51bkpvU3NGN2piQzduekJyT1E5aWRPdWFDXzdQNkc4U2g5R2IxaFZYOHI2TGRyOEZrV2ZoZkRjdmtfYkY0UkJRd3pELTdQU1VVTGdsekh1eUE4M19tT3pBdmdmdWlBMjJqN0RBaFdXdHNRN0lIR05GYm1XZVRZVEZhRG1DQ3diN3ZaOUtOREdSZ0FPdnlrcDhLZG5NT2dXcDJoRXNrUnZvTG9YME5pbUNldkx3LWhmYWk2WkduSDFQMGk1MlkyQ2xIb2MzLUhYXzFqQUhXX1RkRk1PUlBjZEFFTEdIS3dxS184RkZvbzFmcmQtVnFKYTZHUXN4R0xFVkxya3M3QTVUQXZNd0pxTmEtN295VlZ1OVR4dTIweWRlek9PRE81eGJIaVVBOVVoWFFYS0Q4TERoTmZjTGQ4ZHNmajM4RTh5X1ZzUld2b0Z1OWNxSEpyTmNYOVVuRmNLaWoySlQ2Tk9TYnNHMjNaVGxqTDhraXpUVThaSy1TVUQ1bEs0TFc5bFU3WW1wTl9lbEM4VzNTSUJqQ2VGcVJMb0YtV3pLOTFodHgteHhQcWxIQzNIeXF5NzlmbWZ4emkzMlNEUERmdUVpdHdkNEpJQ3dScmdHaWRFdDNRQXVQR19PUGNIVC1OeXdhZHpIc2Z6ZUpSd2pOT0JSY3AybGxRZjZmdjlNX0pyMl9jY0dGY3kwMDQ1QjhHNG9XNEVVY0g0MlNjSWdpYkx3SjF4c1VnT3JKWGtnUkxHUlVkMnRGbldYQjdWbXNaQzFLc1BuaTFhUENyeW9TeFBIUG5OR3BNWUJ4QzRDOWVmVXZReEppdTluanRkdmxOU2JXMGJnNDVsdXpmdmhaakhnbnpUVlVfZU5ZcmhSLXFoMEdTN1gzM0h5YzFNLWFwYVV6cjd0UkQ0SW9zVm1rNENGMXJXdlJMbDNXRS1ndWhfc3loWUdYd3RaRmhKRDhGQ2RyS2pNWHRQanNDU2lOZE5YVHpwdVNkLVNjQlR1VGl4a1JjRldjbFl3VzBoQUZDdEtrY1plamc5S2h0a0lhVjZWRVhPSWxqWW03TkM4VVh1bjQwZjBEODJVcmhfZWtDeHVxcWRJbTdyejNQM0x2OHFnVUFZdkNOdFc4Z3ROcmRJS1lhVkRadVY1S1d4RGcxdHE3ZGpGYlJWd2dXamVHckNLWnVWUEVKRVluSmRMQk15eW5vUWtGaV9oQXQ1cGpScHpoc3J6X0hydnhUY0w5VzhUYVczeUVKNC1OR2d6US01VVp1WUV2SVZRWmtlSktpNURoQ0E4dVZVX1doYXhHYmNQTXJFU2t0Xy1tVWtrcG41SE1xZzJiYWxOMWUzVVpnczdmRHA0ZFlrZzFEaU84WU1SVVJsQ3BXNWJWV0NnZDBuazZfZDIyNjJZSnFfYXdHeGlpSDJQSUZPOUJZR0RxSFhDZU9oS0Q1RDRoczJQTDh3UVZ5UU4yX1FOMm5JemlZeVVUNnFUNy0wVi15aHp6WEJCVjNBOUxNSWd3WkpqdWNGakE2ekFkQ0w4bG5WdktJVUhBUnoxSlhLbllxQmdwNE83NnQwc1ItWmk3aW0xUEFudHZzSnVvZExHNlNVSEFPMjhVZDZqVUNPU3JqTF9feEdpWlZkR0F1aVd4R1hyMGVCbXRPa0ZGR3NDYnd2TmNqM0w0Z3JGbEd0OFBnLW15UjJKUzJkVUx6TjBPbmlJQXA2TFFfcXhpWFVKeEx1RmdHMnhXbERaZGFBczhHeDNGZHhMcXdjWnpaalJRczgtR1lqYXctdllDX1FmVXZ6blFkX2g1VWViWHVFb3pKWTFFOGNmdWtPWkZKZ3pGRlBMeEExeFFicG9fU0tmWUpScmdPc3poRENVMFR5NTRielRoQWJlZHp3ekFycFFwVl93cGN3a1RnLTBxUXd1eE8wcTRQOTVPa19UUFk1RjBHa3pKM1JBd3RXdUJaU0xLaXFRWHlPeW5HaHg3T2FtMGlUVXJtcnJyWEMwMll5SDZIRWd4X21ZdlZWeDNXUDg2WURTOFpndEY0N184NXh1T1JJa2h3MDVZdnVFcW52bEZFV0c2WEU0YWNBOS1ISkw5dC1qUmVRZ09vdmNuQUxLZDRlQUpMTWZlSnJwYzh0RHpYUkJJZXBYU3V4UFgyR1RNODVWSFNodWVsVGZQVkVKVWJSQTl1MkZCTnNaejRxRGg2elo5MnlNR3drbzBaZHB4UXM5UWNEUGlEZ3htejMzbng1aDhTeFluVlhORmZNXzlqYWU0Zkt2czNUeV9qY1VJRmRjd0gwaWlaUjlTQlk5eTl4YnR4MkFZQUltQ3pUbkRQdkp4Q1JfVWo1OXBMMDdMM3YtRFAtRV82NHBMejJibHJWbnFwb1pLOFlaRnhrQzZRRGxHWEE5UENTNG9UcVQ2aTVnOGI4NDhSWHhHcHAwdDRxSElTRFRYRFE4VlRaTUZsbkxLR2lyaThkNV90WkJNaGt2ZzMyeXVpXzZ5bXF5SjVDaFhRRDIxWno0WGZjWG0zQU9mbjljcHBPZWowOEdRMThMMFFxWXFOeXBFRkpmbTdHYUdtaFNuM0xlT2FTb3VTZ1oyckU0dXFMdFZJR1FnYURPc3J4QWdqeWJGNjNfMXBaTTYwQV9aN1Y2cjB5V3JWYlhwQTd1b0lVYWNJR2JLMjNnQVZhU1N1YUY4cmxTbk50MnZUdkdGN29vNkJpLVJUU1NPRzdiR2lkczl4RzdXN0tRTGVnRXVOTjRmN3pNQVB5bkJRTjU1eDdhZDgzZzdBQU12RWFaU19TQjJfSTdnd191Qk5XX1cyVko1blNqN3dMUXZBTnJ4eFRFVHdpZkVhaXRWUXdrcGZlMi12dDFvQnZFZnA2UklrQmN1THNQY1lwcl9adnpSOUNXeEk1ZE9EbVhRTTVnZk4xbTlkZ2k5N212TXFQVE1tOVJ1STJheUpwYmRBWlhRVTAzSVJrNE1Ba2tXaF9hQThIWFZZdkE0dFpwbGJrVVRnRVVZTDFYa05NSU9MXzdKcmhMSU83RGhPM2ZLOGRHczlnZVRlLU45NExDc2RFa0FPbUxwU0EtZUp0bFZsck5XUnVrUlNwWENWWnJ5dlZjRUs3cGU4dEdWTEIyenU2bGlsQjVwT01jMDZOSFZDMWRZSzlUT0M0aEhVdGVXTmlOSUo0Q2hEMU9FcjFkMzhkTU1BQ3FfTHZ5TUs3VXFZd25NVjVKNzI0bDhNTGZNa1VzZU5OZkNma09uRmNmU3oyekExN1BoYnliWDEwSjBNbzFKRkthc1Z5MjVvakFLYTlMb09CaU5BX3BCSXBaQlFGLVcwSG9aem1Pb1lyal9ZVVV4MnZ5SjViVUVyek5PUVotYzJGZFZpZDBNNW1DZHU0NUdaOVZuZnVSYUZfaERUbEZ3aVk1cTlBdW01ZWhSMWpKMHVmdHFRVnBINUE2Y1VoMUxpTG9pQ2d5ZmVfUUUzYk04UkRMMFhQZzV5cVBuc3J6cUd5UGZ6NEo4Q1ltWmVTN2dWQjZ1SFlhMjc2UnZKZGtCcENacEJ1R2s1TG9rckhHcEk9)
      flutter: 1.20.0-0.0.pre
      xcode: latest
      cocoapods: default
    cache:
      cache_paths:
        - $FLUTTER_ROOT/.pub-cache
        - $HOME/.gradle/caches
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter config --enable-web
      - 'echo $GOOGLE_SERVICES | base64 --decode > android/app/google-services.json

        '
      - flutter build apk --release --target-platform android-arm,android-arm64,android-x64
        --split-per-abi --obfuscate --split-debug-info build/debug --shrink --tree-shake-icons
      - |
        # build web
        flutter build web --release --tree-shake-icons
        cd build/web
        7z a -r ../web.zip ./*
      - 'firebase deploy --token "$FIREBASE_TOKEN"

        '
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/web.zip
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - aswinmurali.co@gmail.com
