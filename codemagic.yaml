# Automatically generated on 2020-06-28 UTC from https://codemagic.io/app/5ef56220f4d583000b573b1a/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  flutter-workflow:
    name: Flutter Workflow
    max_build_duration: 30
    environment:
      vars:
        GOOGLE_SERVICES: Encrypted(Z0FBQUFBQmUtSW5pb1U0b241MjVaaVdCaEtENjVZRmZXd1lKVjBsNDdCdlZveHduaGt3aGc5QldaenRma1ZrUnplU0NDRGp6MEI2cExrNVh5TnNBdU1sY2JCSzBleWlLandDc004Q0ZMTUgwMmoxbnpfampmVXl2a3F2djZ3MzdOQVNmeEt5MHJ0S1NVcjZCZUxLcEdyVVlpaFk3QzZMeGlKUGNJbXh1Z0UyRUw1VzFYUDFQcnVwUTFqN2JxWjNGTlZKTTREdnJfRGlNYWZGRmNOdTlRb0R2UEdMYnZtaGJxVGQ5X3diY21YMFVVNURPTzdfRkpGUkR4S0ZOVF9TaFVEOW51MDlBeTBoN0J4YUx4b282UzlzcGxaUlluQU5YT2l3c3lGMG5Jamk0TlJKeUtoaXNnVWtQY3NMVVJKTmxXODVTLVZWekdtS2dtdzIwV1lZcXlsMFVwU2tLR2FNRVYySVh4ZU11SVJpd1dENzRPQ3BiazA0YkJOaVFDcGtWZ1BlaTNjOEd5NWItWGFKWWZCMGtiaE95aV9HYXFfRnBNZUh4OC1mMFhTd29iRy1Nb0J2aUczaVlQVXNwNmZpN3QwVWp0a2tnNVptdjJLWjNQVjNpWG9paUJhaEtfeE1ObVBoclFrLWdMR2FCNEtiNC1RX1JUMk9fUU5wVzh6ZmdJMzZCSEpfbW9EWHAwamFZYUJZNzJYQUprSW51YjgxSl9mcnlFUzg2QURGMzhVRTc3SmV5bFZPU3VlWXZWTVE0MlJHdlk4YzRRWUwyQmMwLWFBejgtdDdXbTZ4aFBzcTVDOUJUbjk3VFlKTWNyWHlMQmswSDFBYjYtNDBOUnA0QURoNkVNTzFYem9wM1N2NW1pQnlBeEhYZEFXMmpKNndQZzZSVnhkQURlN2NSMmd2eEN2S3h0LTVFQlkxVHdSSkphY0xGWS1UU2NHdEZXQ0p6bmxmR0s1TW9FWTl3WkhHYzJiTEwxejVlR3RhNno3OG9uZEZzV1FCV0JVZmg1YlVXYU5JdXZoOXBLSkxVNjJzYU5XLXZOVGFwTVdIQTUxM3lhc0NqSFhNSmU0aGlMcy14Qkx3c1pJN255Q2FVX0JHV1QzYklwTDExb2N2dEEzS1NuT3Frb0o3M2paSDQyZ3BQZC1pNU1YTzc3NlRaLVJYaXEyc1dGMFVLY2NZdFo3eVVhRW5fWW5nMFZhYWp4eGRnaVI0Q1ZWQy1raGo1dkFETFBsR3Y5VG5MSF9jVTlwNjVqcjRmUWdGQjNSUWVrRUhaMWd0SGc0dW5tYlBZeThTODNVQUJEQnp4d3RnT3dtT3gxOXgxQnBkN0hoc2w1WHRoN0JjcFlheVhGcWM5VWVVVlhzd3JnSkNEb0JPSG1hXzI1NkVHdDIxbWV3YVRHSzFaTUNPVTRVQUVlVHRadFd3S1dnanpzdmdpN0lNcHd3OHRjQzdNdU9WcFhvWXVFVE91eXl0ZmFDSzRSYkZ3a0dxTVhIWE5GRHlTV2U3OGF5SjhnTC1HRHNZaXlOQUFwYkp0eTFNOXRlRDVkZEk4QUlPUDdHZnpzZy1CYXdsRXJhV2ZacTZyWDR1RElMa3VjRG4zVUhPTEZSQ0dFWXF3VHVVLVhTNXdLXzVEQk00RUJCYUFFb1F1TUhQQTVYX0kwcFoyRnBrcHZmLThxeGJueTd4NVZPUDE4amZFUnZMem5mLTZIOC1TSG02bmZidUJPWTNoVXJlX3hENktHelhHbTR2Q052VWxXYWdGQV8xRWQ4aU9EdDJmX0F3c3oxX2ctdll5MW92LS1IeFhkWWF6UzR6Y2Y3NFlEVGlCMmVxaDd2cF82TWlCVlZjNjEtN2JCbEVlaUdrRDFxRTYzZlNYb3VrWHhFUE52T0xtamJyeC0ybEtJa05ZVEpXRlVZeWFzbzI1VUhabEgwcVpxZ1ZQN0pkNzVCTl9xUXpEVHF3Q2lMRl8xWHZ6b0w3V3RuM2JnMFdmeUVZYTEyVVZ3VFMwYmRNMmZYSUFQaTBkbW1rbzVWWjQzSlh2dnNmNFZBWHZaTjJwTGJybVJDU3JIY2dlSVdtYWJ6RUFYaFpjQnczbzBkUDJqeDUxMlFJckZ5ZlZtTUs0djRlWWc1YjdCLVk0cGRYSFNQYmVTTW84MnhLOUNKM3VjaV9UT2dVcEloRXVRR3RvM2tqbG4tY19HdThZbWNmVGY3a0tqQm1fQmJXUjZkVTZJUFFXcV9tSmNIam1lWEhSNkdGQjlNUWZkUzZ3dFhWNnFRM2JSTTE2NWtCUmZ2Sjk0TWMtdldWVE1ibmFPUktkeWtFcTVwSTdnR2FjUXJrRkdJcDBDczhfcTlyeVNYbE9MU3RyTEZJMmJHSlNtYkh6bUlXN3RHeTJha2FTeHdtSzFzQnNERkNRMERWTnJ0a0VGdnEwTEVlOUNMT0NsWWtkT3FFbjBQc29BallkZHhsN1dnWWhFZnlFM3lNSUVpZ1UyNGZrMFJXU1JXeVhuLU9NakVQRzJMcmJIX3o2TFVBbktDVnNRZ1NRaVpKX0MydnN1NWF0RkdFOUQ5Zjg2VkNiV0xtVmZlOVg5TkhWUFBDWHAzUzB1VlpBYjlsTmpwdHY3N0gyeU1sdmJ1OEZ1R3FVUWQ1T1hYZTc0bUVLLTVnMTRvY09zVEpSSHdlc1pYZEttTk1xWHRmbkFQSGJTLWVjd2w2RmN5UlhDUmx1c040YkhpSEtQM2RNdWgyZWI2eDdnclRUSEpTUEhrNTFFSURfRTFCQUtEMm9ISk1tQjU0NlFzN3lWeXZUVk94Y3hKcGREcnZITlh1NFdRWlhKZDNFVjdqMWY4ZTJjbF8zUzdnSUlHdGVjY0VYQmZFcG1CaVhXV0hXSENxVDAteTlpcHIweXY1SS1wRFRrby1keVRHc3VyakRlUmFpNm80c0MxZDlaaVdwTm1naFJ4NGhLZW1HTkh4UlR0X0lRcEMzdHBZcWxFRHpzYWNJYVZwTnFubVVxU2xVVFdjSWF1WEJUU3I0RnVlN2duWnk2dFl6Rlg3NXhJdnQtdzN0SWpaNjlubzQ0M1QycmdSVmFzOTlOUkxaVnR4c3BhYjYzVWxjT3N0TzJkNUpWSHdqWjg4WUsxcUgzaXhDNVF4WXNhUElhSDhpUEFXemE3eFNqR3pRUUFDLVM5Q0lQeG5jRTRMeXZxbmFOekRsYkdFWVRWSWVrczhnS1ZsRHBvRGhhY3U4bUNGM0tvWnlqQlhaRDBGaVc5OTNqSTlZd3Z0bTJUVHNVQTE2UV9OYkdnRWZpNXA4cmgyMjN6Z3ZOZTNyOHE5MDJfenBpZzI0OWEtTDVyS2FOa2s4dnZNNEFEaE5YZjJDMUdnNzdNTjFtbUxILU9yVE15d1RiY0VFME5hOUhNcDhJNjFHb2hrbHl2blBZZG9JODFRLWgtZkpnbUxRR0RvY2hjR044c2dxMVVzZ1ZhX0NuZktKYlNJWXh6T21fU3dJbHhYWnVpbjhuWU5Oc2QzVV83VnlBUV9wcGNHckcwWjR0OVRtdW0zWlAwbTl2SFB0OFFnUUNUck9IVG53VkJ5dmxGQjNmUGRyT2FlN0g2dFRkMDdQQlJnMWpEaTlHTjRfODBxX09iUXRJUVdZQldPd0x0ZG1Fb1BTQVdIdXlJNzhYTWtlWF9wUmstdG1qOFk3eXVQMTZhZFBKa205WWN1bVNqVnM5UDdDRjUxMFgxTHJvMVBKb1dNTGZYUTI2a0RLc2JZZDFfcVBZRlRnM3pSdEVqcXlZNFIwTnZ2bVlJbDBTcHJjQjFsdVo0ZmxHZTNMZndoSm5XMDd1RnZFNjlRNEF0T2Z0a3k0T3d6MjVaXzNrOS1OWDgyTW5td3NrZmhTWExEQUEwejZwUXN5OGYydG05Z0h5dkNWbjJLbmJ5eHRGQk1xc0o3SE5yd0dDelo3NEtaR3pmeDJGQlZLajZqdFlCZEk2TTFSckh4dEFMeENZVV9zRXlMa0RqaXNWQkJnSHRwUF9TajQyaUdzSC1OcUFTaF94VG5JZG5tOXh3aVFKb2tsNzNDNE9LRTdqYk9IWW83RHZzaUk1eGVReWVoQ083YWhHRlpqbTE4a1U2WHhOSlRHb011eHhOX08ybE9GeWtYUUs3Z3FhLTNoMXZxdzVrcmdMVlJ5OVU4WERZZTJQclBKRUw3ODZLSE85d3had09UeGFMV0hJUVV1WGlpanVDbzZwak1hQ2g1Mnc3ZVVKVEllUlhwUEVEalVPY3ZEbkRUbk83dVJ6aXlwdlF1a29jbXlqY3hkQVJ5MFhSNzhxV0l6ZWR1MEJtQVZXWFdOeUtQVkxLdmZ2MkxkUnptSEV3eHo0VXh3cGw5UXYzLWlDSE0zeTNpbWx6RldLRVV1cXFWR2xTX1NJZHVKM2ZzSkpWbGRTWkN2dE1uRFlST0VuTm5GS0FHY0xlS0dqdmtfSUFNVTRtdEhVbUJCSng5bXIycVQtLTJMX0hieWlfRnVPRmtDYkJtVkE5MTJmbjdVUF93NXpUSnl4UXM1RHp4WkRoZzBqTG5HY05Md216aVRseDhoR2VJLXowQXl3Wm5EYUdKNzEtdDctWkpXVExrSXBBRkhkXy1fRHktRE91N0dkTmdpeGpYaVdseHBTdHRFM2ZNMmxZbklsWVY4UUI5Z2kxTGtvczMwMmI3ZWZKUnFMNl9OeVU0MFEtZ1doS2FJYWpURXdobUhnR3ltRzJ5UDltNHVYVGFsMTE2cXgzdzhiX09DYkgtUHZpS3dZSm9XT3JnRjNzR1NjTVVMc1J3MlZFd25tU2FBQUtaOEc1TnFSTnRyXzJGYmo4V2pGRVloeEI3bFI3WGgyT1JBUm5RTGQ4UHhZYnlvSGJNT3FEbWFYN3pKeU12SERjcmx4cnJwei16WjNHVl85M25TQ2Jlakg0Z1FkYkFTVFA1UEQzeEtTMFN6Y1FJNndvYVphSFFZR0tzMUx1ZWthZlJ5eWZVS2ZqYWY4QVY4LUNYY3BTZzV1U1pXUWVjdTVPNG92YTdLa3Z5blpPTkRrMTdmOVNVWnktN0NYQnppVUpJV2pzRzJFNVpKbTZDQkVaWEN6VTlVWmZMVlQ2T0J6OTNPZUJfUXFGNzEtS21lOXV4MnNZazBVaHJOVmxOUlVuRzZSOXlmRDhvUHhvaDBLbzI4eU5kTUVqMFRuMTRrREdSa3pOSjdzd3JCNzhZTjhhMEt4UFQ3RGtFQ2dtcTRCMHdwLVEyVUZVVGNVQzM4S2FvNElSZDZScHAyV3BsblpjUU91a1J6M2tXUGtFVjBfc0VlUVB0LVhJQXEwZWs2WUM3RUpfZm5jb0dGY0hxU0hqNk44b1dtSU52YlNBNEVBbkZrMXNuQk51a0QtOG1qTEotQmYwRUNuRlJYOU9Sek50MlJ3V1RmdXoxQlVZbllrS3dyS1gtQndLM1pnWFh1S3NvNmRCZ1lROGVJNmVQckNZS04wMGlwdUc0aW5sOThVcy00MWFwWURmOEFfZXRMdGU4NDEtbk9udHRLTmMyOHdfTnJxNFViQjB1VGtHb09YRFdrdnZMcloxN1lhVl9nTWY3RGg5RjlKV29NWnRnaFRRN3FEYkxJbXE0NDFZaTFpQlhvN1kzT1h1VTdLTG9KWU55dVpTZFJwUmt2ZTM0WUhlR2p3UWhSenJfX3RvS2FMX1FFNzg5c0VEVncyT1hlYk1oSHExUklfazFIdFdYemhxT0Yxc3dWTUtlMFRIeWdvV2twNVhTdktxX3dQNXR4S0RlSTA0akVYQWlYbXlEZFJxN05YRzlNN3JLZDdtWTlwcFk5RlB4bEtWblNEa0x3TVdUOWFGN3hySkt6ajNrUXd0TjUwX1ZiSUdwY01YbDNXRGE2ZTlRcTlNOGRGRXNkQjJJdm1yWkJzSUdNS0hkUmk0Z3ZyemNvdEtrNEJQTGJqV0lKNWc3RW81QUxrQ2dVTmdyYjJrS3lRN3ppWWs4WWtDcERLaWxndmxiQnhEZ2NtQk00MWpsX19qWGpYdVU3bDJTYldJWmVwLVNJN3prS1pVUlRLeVFFeXE5c3c5bWRJY1puMUNhV1AyLXJkVDM2Um94b0VOTkM3QWFOOWxZSVBwNmxsM1luRTBVLThSSkYwSzVqTlY0aEZ4LWZueEc5Unl0QVBGUkFLQ2dBNkQ0YnVDSS1KTUMwVmVqci1wMVcyYWVVTXFqSk5DTnZpbGwwWVBoQU5yV25uY1hUNC1TT3JqUVZDQnZlVFdzRHEtcmcyS0FVYlBqRjRFWEk3WXU2UC1Za3pGQVZqUXZkU0ZzY1dRZHo1SW92bFRrN21LVDZJdTJsVFktRjhaNFN4UlRqOXh2S0xjMkQ=)
        FIREBASE_TOKEN: Encrypted(Z0FBQUFBQmUtSW5pakh0M3Nza1pxMktTVmw2QW1ldFhZYzlUQlVUNHNqZFVvd1ZyVGlaT3JoemN0dmtBcGx0WWlFaThwQ3drUXNWVjJPU1lxdnZaS1BmUFdXeWJsVFpjaWNPbm9aeU90b1hLbEpNUm5SaDZWTk5ZWXR0a3BVZkpOZHdEaW9rbmd4MkJyYl9DZldmNWJrQlM4T3pMLTlhX3lTTnU5eGlZMHlMbVRINzAtWDJiNDZBakxHNV9UalFTZ1VVS0RjTmNWOGtwNngwb21SUmlkZldsZEt4ek50cUNVQT09)
      flutter: 1.20.0-0.0.pre
      xcode: latest
      cocoapods: default
    cache:
      cache_paths:
        - $FLUTTER_ROOT/.pub-cache
        - $HOME/.gradle/caches
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter config --enable-web
      - 'echo $GOOGLE_SERVICES | base64 --decode > android/app/google-services.json

        '
      - flutter build apk --release --target-platform android-arm,android-arm64,android-x64
        --split-per-abi --obfuscate --split-debug-info build/debug --shrink --tree-shake-icons
      - |
        # build web
        flutter build web --release --tree-shake-icons
        cd build/web
        7z a -r ../web.zip ./*
      - 'firebase deploy --token "$FIREBASE_TOKEN"

        '
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/web.zip
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - aswinmurali.co@gmail.com
